<div class="container">
  <h4>Crear nueva tarea</h4>
  <form name="asignarTareaForm" role="form">
    <div class="form-group">
      <label for="descripcion">Descripci贸n</label>
      <input
        type="text"
        name="descripcion"
        class="form-control"
        [(ngModel)]="tarea.descripcion"
        data-testid="descripcion"
        autocomplete="off"
        placeholder="Descripci贸n de la tarea"
      />
      <validation-field
        [tarea]="tarea"
        [field]="'descripcion'"
      ></validation-field>
    </div>
    <div class="form-group">
      <label for="iteracion">Iteraci贸n</label>
      <input
        type="text"
        class="form-control"
        name="iteracion"
        [(ngModel)]="tarea.iteracion"
        data-testid="iteracion"
        autocomplete="off"
        placeholder="Nombre del release o iteraci贸n"
      />
      <validation-field
        [tarea]="tarea"
        [field]="'iteracion'"
      ></validation-field>
    </div>
    <div class="form-group">
      <label for="asignatario">Asignado a</label>
      <select
        data-testid="asignatario"
        name="asignatario"
        class="form-control"
        [(ngModel)]="asignatario"
      >
        <option *ngFor="let usuario of usuariosPosibles" [ngValue]="usuario">
          {{ usuario.nombre }}
        </option>
      </select>
    </div>
    <div class="form-group">
      <label for="cumplimiento">Fecha</label>
      <div class="fila">
        <dp-date-picker autocomplete="off" data-testid="fecha" name="fecha" [config]="opcionesFecha" (onSelect)="fechaSeleccionada($event)"
    name="fechaApuesta" data-testid="fechaApuesta" placeholder="Fecha de inicio de la tarea" required></dp-date-picker>
      </div>
      <validation-field [tarea]="tarea" [field]="'fecha'"></validation-field>
    </div>
    <div class="form-group">
      <label for="cumplimiento">% Cumplimiento</label>
      <input
        type="number"
        class="form-control form-control--small"
        name="cumplimiento"
        [(ngModel)]="tarea.porcentajeCumplimiento"
        data-testid="porcentaje-cumplimiento"
        placeholder="Porcentaje de cumplimiento (0 a 100%)"
      />
      <validation-field
        [tarea]="tarea"
        [field]="'porcentajeCumplimiento'"
      ></validation-field>
    </div>
    <div class="example-animate-container" style="padding-top: 10px">
      <div
        class="alert alert-danger animate-repeat"
        *ngFor="let error of errors"
      >
        {{ error }}
      </div>
    </div>
  </form>

  <div class="form-group">
    <button
      type="button"
      class="btn btn-primary"
      data-testid="guardar"
      (click)="guardar()"
    >
      Guardar
    </button>
    <button
      type="button"
      class="btn btn-default"
      data-testid="cerrar"
      (click)="navegarAHome()"
    >
      Cancelar
    </button>
  </div>
</div>
